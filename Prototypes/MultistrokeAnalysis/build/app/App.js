import EveryFrame from "./EveryFrame.js";
import Events from "./NativeEvents.js";
import Page from "./Page.js";
import Selection from "./Selection.js";
import Snaps from "./Snaps.js";
import SVG from "./Svg.js";
import ToolPicker from "./ToolPicker.js";
import FormalTool from "./tools/FormalTool.js";
import FreehandTool from "./tools/FreehandTool.js";
const root = document.querySelector("svg");
const events = new Events();
const svg = new SVG(root);
const page = new Page(svg);
const snaps = new Snaps(page);
const selection = new Selection(page, snaps);
const tools = [new FreehandTool(svg, 30, 30, page), new FormalTool(svg, 30, 80, page, snaps)];
const toolPicker = new ToolPicker(tools);
EveryFrame(() => {
  toolPicker.update(events);
  toolPicker.selected?.update(events);
  selection.update(events);
  events.clear();
  toolPicker.selected?.render(svg);
  snaps.render(svg);
  page.render(svg);
});
