{
  "version": 3,
  "sources": ["/Users/admin/Work/Inkling/Prototypes/OldInputSystem/src/app/App.ts"],
  "sourcesContent": ["import Events from './NativeEvents';\nimport Page from './Page';\nimport Snaps from './Snaps';\nimport Selection from './Selection';\nimport FreehandSelection from './FreehandSelection';\nimport ToolPicker from './ToolPicker';\nimport FreehandTool from './tools/FreehandTool';\nimport FormalTool from './tools/FormalTool';\nimport ColorTool from './tools/ColorTool';\nimport Tool from './tools/Tool';\nimport ConstraintTool from './tools/ConstraintTool';\nimport SVG from './Svg';\nimport Handle from './strokes/Handle';\nimport Stroke from './strokes/Stroke';\nimport * as constraints from './constraints';\nimport { onEveryFrame } from '../lib/helpers';\nimport Gizmo from './Gizmo';\n\nconst events = new Events();\nconst page = new Page({ strokeAnalyzer: false });\nconst snaps = new Snaps(page, { handleSnaps: true, alignmentSnaps: false });\n\nconst selection = new Selection(page, snaps);\nconst freehandSelection = new FreehandSelection(page);\n\nconst gizmo = new Gizmo(page, selection, false);\n\nconst toolPicker = new ToolPicker([\n  new FreehandTool('FREE', 30, 30, page),\n  new FormalTool('FORM', 30, 80, page, snaps),\n  new ColorTool('COLOR', 30, 130, page),\n  new Tool('\uD83E\uDDE0', 30, 180, page, Stroke),\n  new ConstraintTool('CONST', 30, 230, page, {\n    vertical: true,\n    horizontal: true,\n    distance: true,\n    angle: true,\n  }),\n]);\n\nonEveryFrame((dt, t) => {\n  SVG.clearNow(t);\n  constraints.now.clear();\n\n  // handle events\n  toolPicker.update(events);\n  toolPicker.selected?.update(events);\n  selection.update1(events);\n  gizmo.update(events);\n  selection.update2(events);\n  freehandSelection.update(events);\n  events.clear();\n\n  for (const handle of selection.handles) {\n    constraints.now.pin(handle);\n  }\n  constraints.solve();\n\n  // render everything\n  toolPicker.selected?.render();\n  snaps.render();\n  page.render();\n  for (const handle of Handle.all) {\n    handle.render();\n  }\n\n  gizmo.render(dt, t);\n});\n"],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAM,SAAS,IAAI;AACnB,MAAM,OAAO,IAAI,KAAK,CAAE,gBAAgB;AACxC,MAAM,QAAQ,IAAI,MAAM,MAAM,CAAE,aAAa,MAAM,gBAAgB;AAEnE,MAAM,YAAY,IAAI,UAAU,MAAM;AACtC,MAAM,oBAAoB,IAAI,kBAAkB;AAEhD,MAAM,QAAQ,IAAI,MAAM,MAAM,WAAW;AAEzC,MAAM,aAAa,IAAI,WAAW;AAAA,EAChC,IAAI,aAAa,QAAQ,IAAI,IAAI;AAAA,EACjC,IAAI,WAAW,QAAQ,IAAI,IAAI,MAAM;AAAA,EACrC,IAAI,UAAU,SAAS,IAAI,KAAK;AAAA,EAChC,IAAI,KAAK,aAAM,IAAI,KAAK,MAAM;AAAA,EAC9B,IAAI,eAAe,SAAS,IAAI,KAAK,MAAM;AAAA,IACzC,UAAU;AAAA,IACV,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,OAAO;AAAA;AAAA;AAIX,aAAa,CAAC,IAAI,MAAM;AACtB,MAAI,SAAS;AACb,cAAY,IAAI;AAGhB,aAAW,OAAO;AAClB,aAAW,UAAU,OAAO;AAC5B,YAAU,QAAQ;AAClB,QAAM,OAAO;AACb,YAAU,QAAQ;AAClB,oBAAkB,OAAO;AACzB,SAAO;AAEP,aAAW,UAAU,UAAU,SAAS;AACtC,gBAAY,IAAI,IAAI;AAAA;AAEtB,cAAY;AAGZ,aAAW,UAAU;AACrB,QAAM;AACN,OAAK;AACL,aAAW,UAAU,OAAO,KAAK;AAC/B,WAAO;AAAA;AAGT,QAAM,OAAO,IAAI;AAAA;",
  "names": []
}
