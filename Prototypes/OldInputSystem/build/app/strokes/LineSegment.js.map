{
  "version": 3,
  "sources": ["/Users/admin/Work/Inkling/Prototypes/OldInputSystem/src/app/strokes/LineSegment.ts"],
  "sourcesContent": ["import { Position } from '../../lib/types';\nimport { generateId } from '../../lib/helpers';\nimport SVG from '../Svg';\nimport Handle from './Handle';\n\nexport default class LineSegment {\n  readonly id = generateId();\n  readonly a: Handle;\n  readonly b: Handle;\n\n  private selected = false;\n  private readonly elements: { normal: SVGElement; selected: SVGElement };\n  private needsRerender = true;\n\n  constructor(aPos: Position, bPos: Position) {\n    this.a = Handle.create('formal', aPos, this);\n    this.b = Handle.create('formal', bPos, this);\n\n    const commonAttributes = {\n      x1: aPos.x,\n      y1: aPos.y,\n      x2: bPos.x,\n      y2: bPos.y,\n      'stroke-width': 1,\n      stroke: 'black',\n    };\n    this.elements = {\n      normal: SVG.add('line', commonAttributes),\n      selected: SVG.add('line', {\n        ...commonAttributes,\n        'stroke-width': 7,\n        stroke: 'none',\n      }),\n    };\n  }\n\n  select() {\n    this.needsRerender = true;\n    this.selected = true;\n  }\n\n  deselect() {\n    this.needsRerender = true;\n    this.selected = false;\n  }\n\n  onHandleMoved() {\n    this.needsRerender = true;\n  }\n\n  render() {\n    if (!this.needsRerender) {\n      return;\n    }\n\n    const commonAttributes = {\n      x1: this.a.position.x,\n      y1: this.a.position.y,\n      x2: this.b.position.x,\n      y2: this.b.position.y,\n    };\n    SVG.update(this.elements.normal, commonAttributes);\n    SVG.update(this.elements.selected, {\n      ...commonAttributes,\n      stroke: this.selected ? 'rgba(180, 134, 255, 0.42)' : 'none',\n    });\n\n    this.needsRerender = false;\n  }\n}\n"],
  "mappings": "AACA;AACA;AACA;AAEA,iCAAiC;AAAA,EAS/B,YAAY,MAAgB,MAAgB;AARnC,cAAK;AAIN,oBAAW;AAEX,yBAAgB;AAGtB,SAAK,IAAI,OAAO,OAAO,UAAU,MAAM;AACvC,SAAK,IAAI,OAAO,OAAO,UAAU,MAAM;AAEvC,UAAM,mBAAmB;AAAA,MACvB,IAAI,KAAK;AAAA,MACT,IAAI,KAAK;AAAA,MACT,IAAI,KAAK;AAAA,MACT,IAAI,KAAK;AAAA,MACT,gBAAgB;AAAA,MAChB,QAAQ;AAAA;AAEV,SAAK,WAAW;AAAA,MACd,QAAQ,IAAI,IAAI,QAAQ;AAAA,MACxB,UAAU,IAAI,IAAI,QAAQ;AAAA,WACrB;AAAA,QACH,gBAAgB;AAAA,QAChB,QAAQ;AAAA;AAAA;AAAA;AAAA,EAKd,SAAS;AACP,SAAK,gBAAgB;AACrB,SAAK,WAAW;AAAA;AAAA,EAGlB,WAAW;AACT,SAAK,gBAAgB;AACrB,SAAK,WAAW;AAAA;AAAA,EAGlB,gBAAgB;AACd,SAAK,gBAAgB;AAAA;AAAA,EAGvB,SAAS;AACP,QAAI,CAAC,KAAK,eAAe;AACvB;AAAA;AAGF,UAAM,mBAAmB;AAAA,MACvB,IAAI,KAAK,EAAE,SAAS;AAAA,MACpB,IAAI,KAAK,EAAE,SAAS;AAAA,MACpB,IAAI,KAAK,EAAE,SAAS;AAAA,MACpB,IAAI,KAAK,EAAE,SAAS;AAAA;AAEtB,QAAI,OAAO,KAAK,SAAS,QAAQ;AACjC,QAAI,OAAO,KAAK,SAAS,UAAU;AAAA,SAC9B;AAAA,MACH,QAAQ,KAAK,WAAW,8BAA8B;AAAA;AAGxD,SAAK,gBAAgB;AAAA;AAAA;",
  "names": []
}
