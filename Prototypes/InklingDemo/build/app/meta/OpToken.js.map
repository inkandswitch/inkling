{
  "version": 3,
  "sources": ["/Users/admin/Work/Inkling/InkbaseV2/src/app/meta/OpToken.ts"],
  "sourcesContent": ["import Token from './Token';\nimport SVG from '../Svg';\nimport * as ohm from 'ohm-js';\n\nexport default class OpToken extends Token {\n  private lastRenderedValue = '';\n\n  protected readonly textElement = SVG.add('text', SVG.metaElm, {\n    x: this.position.x + 5,\n    y: this.position.y + 24,\n    class: 'op token',\n  });\n\n  constructor(\n    public stringValue: string,\n    source?: ohm.Interval\n  ) {\n    super(source);\n  }\n\n  isPrimary() {\n    return false;\n  }\n\n  render() {\n    // getComputedTextLength() is slow, so we're gonna do some dirty checking here\n    const content = this.stringValue;\n    if (content !== this.lastRenderedValue) {\n      this.lastRenderedValue = content;\n      SVG.update(this.textElement, { content });\n      this.width = this.textElement.getComputedTextLength() + 10;\n    }\n\n    SVG.update(this.textElement, {\n      x: this.position.x + 5,\n      y: this.position.y + 24,\n    });\n  }\n\n  remove() {\n    this.textElement.remove();\n    super.remove();\n  }\n}\n"],
  "mappings": "AAAA;AACA;AAGA,qCAAqC,MAAM;AAAA,EASzC,YACS,aACP,QACA;AACA,UAAM;AAHC;AATD,6BAAoB;AAET,uBAAc,IAAI,IAAI,QAAQ,IAAI,SAAS;AAAA,MAC5D,GAAG,KAAK,SAAS,IAAI;AAAA,MACrB,GAAG,KAAK,SAAS,IAAI;AAAA,MACrB,OAAO;AAAA;AAAA;AAAA,EAUT,YAAY;AACV,WAAO;AAAA;AAAA,EAGT,SAAS;AAEP,UAAM,UAAU,KAAK;AACrB,QAAI,YAAY,KAAK,mBAAmB;AACtC,WAAK,oBAAoB;AACzB,UAAI,OAAO,KAAK,aAAa,CAAE;AAC/B,WAAK,QAAQ,KAAK,YAAY,0BAA0B;AAAA;AAG1D,QAAI,OAAO,KAAK,aAAa;AAAA,MAC3B,GAAG,KAAK,SAAS,IAAI;AAAA,MACrB,GAAG,KAAK,SAAS,IAAI;AAAA;AAAA;AAAA,EAIzB,SAAS;AACP,SAAK,YAAY;AACjB,UAAM;AAAA;AAAA;",
  "names": []
}
