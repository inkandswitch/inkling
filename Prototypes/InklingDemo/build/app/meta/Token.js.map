{
  "version": 3,
  "sources": ["/Users/admin/Work/Inkling/InkbaseV2/src/app/meta/Token.ts"],
  "sourcesContent": ["import * as ohm from 'ohm-js';\nimport { GameObject } from '../GameObject';\nimport { Position } from '../../lib/types';\n\nimport { signedDistanceToBox } from '../../lib/SignedDistance';\nimport Vec from '../../lib/vec';\n\nexport default abstract class Token extends GameObject {\n  position: Position = { x: 100, y: 100 };\n  width = 90;\n  height = 30;\n\n  public embedded = false;\n  public hidden = false;\n  public editing = false;\n\n  constructor(public source?: ohm.Interval) {\n    super();\n  }\n\n  abstract isPrimary(): boolean;\n\n  distanceToPoint(pos: Position) {\n    return signedDistanceToBox(\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height,\n      pos.x,\n      pos.y\n    );\n  }\n\n  midPoint() {\n    return Vec.add(this.position, Vec.mulS(Vec(this.width, this.height), 0.5));\n  }\n\n  render(dt: number, t: number): void {\n    // NO-OP\n  }\n}\n\nexport const aToken = (gameObj: GameObject) =>\n  gameObj instanceof Token ? gameObj : null;\n\nexport const aPrimaryToken = (gameObj: GameObject) =>\n  gameObj instanceof Token && gameObj.isPrimary() ? gameObj : null;\n"],
  "mappings": "AACA;AAGA;AACA;AAEA,mCAA4C,WAAW;AAAA,EASrD,YAAmB,QAAuB;AACxC;AADiB;AARnB,oBAAqB,CAAE,GAAG,KAAK,GAAG;AAClC,iBAAQ;AACR,kBAAS;AAEF,oBAAW;AACX,kBAAS;AACT,mBAAU;AAAA;AAAA,EAQjB,gBAAgB,KAAe;AAC7B,WAAO,oBACL,KAAK,SAAS,GACd,KAAK,SAAS,GACd,KAAK,OACL,KAAK,QACL,IAAI,GACJ,IAAI;AAAA;AAAA,EAIR,WAAW;AACT,WAAO,IAAI,IAAI,KAAK,UAAU,IAAI,KAAK,IAAI,KAAK,OAAO,KAAK,SAAS;AAAA;AAAA,EAGvE,OAAO,IAAY,GAAiB;AAAA;AAAA;AAK/B,aAAM,SAAS,CAAC,YACrB,mBAAmB,QAAQ,UAAU;AAEhC,aAAM,gBAAgB,CAAC,YAC5B,mBAAmB,SAAS,QAAQ,cAAc,UAAU;",
  "names": []
}
