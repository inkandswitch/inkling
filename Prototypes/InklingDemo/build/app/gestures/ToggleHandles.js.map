{
  "version": 3,
  "sources": ["/Users/admin/Work/Inkling/InkbaseV2/src/app/gestures/ToggleHandles.ts"],
  "sourcesContent": ["import { aStroke } from '../ink/Stroke';\nimport { aStrokeGroup } from '../ink/StrokeGroup';\nimport { EventContext, Gesture } from './Gesture';\n\nexport function toggleHandles(ctx: EventContext): Gesture | void {\n  if (ctx.metaToggle.active) {\n    const strokeGroup = ctx.page.find({\n      what: aStrokeGroup,\n      near: ctx.event.position,\n    });\n\n    if (strokeGroup) {\n      return new Gesture('Remove Handles', {\n        ended(ctx) {\n          if (\n            !ctx.state.drag &&\n            strokeGroup.a.canonicalInstance.absorbedHandles.size === 0 &&\n            strokeGroup.b.canonicalInstance.absorbedHandles.size === 0\n          ) {\n            strokeGroup.breakApart();\n          }\n        },\n      });\n    }\n\n    const stroke = ctx.page.find({\n      what: aStroke,\n      near: ctx.event.position,\n    });\n\n    if (stroke) {\n      return new Gesture('Add Handles', {\n        ended(ctx) {\n          if (!ctx.state.drag) {\n            stroke.becomeGroup();\n          }\n        },\n      });\n    }\n  }\n}\n"],
  "mappings": "AAAA;AACA;AACA;AAEO,8BAAuB,KAAmC;AAC/D,MAAI,IAAI,WAAW,QAAQ;AACzB,UAAM,cAAc,IAAI,KAAK,KAAK;AAAA,MAChC,MAAM;AAAA,MACN,MAAM,IAAI,MAAM;AAAA;AAGlB,QAAI,aAAa;AACf,aAAO,IAAI,QAAQ,kBAAkB;AAAA,QACnC,MAAM,MAAK;AACT,cACE,CAAC,KAAI,MAAM,QACX,YAAY,EAAE,kBAAkB,gBAAgB,SAAS,KACzD,YAAY,EAAE,kBAAkB,gBAAgB,SAAS,GACzD;AACA,wBAAY;AAAA;AAAA;AAAA;AAAA;AAMpB,UAAM,SAAS,IAAI,KAAK,KAAK;AAAA,MAC3B,MAAM;AAAA,MACN,MAAM,IAAI,MAAM;AAAA;AAGlB,QAAI,QAAQ;AACV,aAAO,IAAI,QAAQ,eAAe;AAAA,QAChC,MAAM,MAAK;AACT,cAAI,CAAC,KAAI,MAAM,MAAM;AACnB,mBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
