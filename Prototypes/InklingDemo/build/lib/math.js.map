{
  "version": 3,
  "sources": ["/Users/admin/Work/Inkling/InkbaseV2/src/lib/math.ts"],
  "sourcesContent": ["// Math\n// The JS Math APIs aren't great. Here's a few extras that are nice to have.\n\nexport const TAU = Math.PI * 2;\n\nexport const isZero = (v: number) => Number.EPSILON > Math.abs(v);\n\nexport const isNonZero = (v: number) => !isZero(v);\n\nexport const avg = (a: number, b: number) => (a + b) / 2;\n\nexport const clip = (v: number, min = 0, max = 1) =>\n  Math.max(min, Math.min(v, max));\n\nexport const lerpN = (\n  input: number,\n  outputMin = 0,\n  outputMax = 1,\n  doClip = false\n) => {\n  let output = input * (outputMax - outputMin) + outputMin;\n  if (doClip) {\n    output = clip(output, outputMin, outputMax);\n  }\n  return output;\n};\n\n// Prettier really screwed this one up, alas.\n// The args should be: input, inputMin, inputMax, outputMin, outputMax, doClip\nexport const lerp = (\n  i: number,\n  im = 0,\n  iM = 1,\n  om = 0,\n  oM = 1,\n  doClip = true\n) => {\n  if (im === iM) {\n    return om; // Avoids a divide by zero\n  }\n  if (im > iM) {\n    [im, iM, om, oM] = [iM, im, oM, om];\n  }\n  if (doClip) {\n    i = clip(i, im, iM);\n  }\n  i -= im;\n  i /= iM - im;\n  return lerpN(i, om, oM, false);\n};\n\nexport const rand = (min = -1, max = 1) => lerpN(Math.random(), min, max);\n\nexport const randInt = (min: number, max: number) => Math.round(rand(min, max));\n\nexport const roundTo = (input: number, precision: number) => {\n  // Using the reciprocal avoids floating point errors. Eg: 3/10 is fine, but 3*0.1 is wrong.\n  const p = 1 / precision;\n  return Math.round(input * p) / p;\n};\n\nexport const easeInOut = (t: number) => {\n  const ease = (t: number) => Math.pow(t, 3);\n  return t < 0.5\n    ? lerp(ease(t * 2), 0, 1, 0, 0.5)\n    : lerp(ease((1 - t) * 2), 1, 0, 0.5, 1);\n};\n\nexport function nearestMultiple(n: number, m: number) {\n  return Math.round(n / m) * m;\n}\n"],
  "mappings": "AAGO,aAAM,MAAM,KAAK,KAAK;AAEtB,aAAM,SAAS,CAAC,MAAc,OAAO,UAAU,KAAK,IAAI;AAExD,aAAM,YAAY,CAAC,MAAc,CAAC,OAAO;AAEzC,aAAM,MAAM,CAAC,GAAW,MAAe,KAAI,KAAK;AAEhD,aAAM,OAAO,CAAC,GAAW,MAAM,GAAG,MAAM,MAC7C,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG;AAErB,aAAM,QAAQ,CACnB,OACA,YAAY,GACZ,YAAY,GACZ,SAAS,UACN;AACH,MAAI,SAAS,QAAS,aAAY,aAAa;AAC/C,MAAI,QAAQ;AACV,aAAS,KAAK,QAAQ,WAAW;AAAA;AAEnC,SAAO;AAAA;AAKF,aAAM,OAAO,CAClB,GACA,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,SAAS,SACN;AACH,MAAI,OAAO,IAAI;AACb,WAAO;AAAA;AAET,MAAI,KAAK,IAAI;AACX,KAAC,IAAI,IAAI,IAAI,MAAM,CAAC,IAAI,IAAI,IAAI;AAAA;AAElC,MAAI,QAAQ;AACV,QAAI,KAAK,GAAG,IAAI;AAAA;AAElB,OAAK;AACL,OAAK,KAAK;AACV,SAAO,MAAM,GAAG,IAAI,IAAI;AAAA;AAGnB,aAAM,OAAO,CAAC,MAAM,IAAI,MAAM,MAAM,MAAM,KAAK,UAAU,KAAK;AAE9D,aAAM,UAAU,CAAC,KAAa,QAAgB,KAAK,MAAM,KAAK,KAAK;AAEnE,aAAM,UAAU,CAAC,OAAe,cAAsB;AAE3D,QAAM,IAAI,IAAI;AACd,SAAO,KAAK,MAAM,QAAQ,KAAK;AAAA;AAG1B,aAAM,YAAY,CAAC,MAAc;AACtC,QAAM,OAAO,CAAC,OAAc,KAAK,IAAI,IAAG;AACxC,SAAO,IAAI,MACP,KAAK,KAAK,IAAI,IAAI,GAAG,GAAG,GAAG,OAC3B,KAAK,KAAM,KAAI,KAAK,IAAI,GAAG,GAAG,KAAK;AAAA;AAGlC,gCAAyB,GAAW,GAAW;AACpD,SAAO,KAAK,MAAM,IAAI,KAAK;AAAA;",
  "names": []
}
